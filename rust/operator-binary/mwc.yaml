apiVersion: admissionregistration.k8s.io/v1
kind: MutatingWebhookConfiguration
metadata:
  name: "restarter.stackable.tech"
webhooks:
- name: "restarter.stackable.tech"
  rules:
  - apiGroups:   ["apps"]
    apiVersions: ["v1"]
    operations:  ["CREATE"]
    resources:   ["statefulsets"]
    scope:       "Namespaced"
  clientConfig:
    url: https://192.168.1.147:9766/restarter/webhook
    caBundle: |
      LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURmRENDQW1TZ0F3SUJBZ0lVWTBPUUhUUlgv
      NkhUZ21jd1BwZXlSWmV1VVJJd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1JURUxNQWtHQTFVRUJoTUNR
      VlV4RXpBUkJnTlZCQWdNQ2xOdmJXVXRVM1JoZEdVeElUQWZCZ05WQkFvTQpHRWx1ZEdWeWJtVjBJ
      RmRwWkdkcGRITWdVSFI1SUV4MFpEQWVGdzB5TWpFd01qY3lNekkwTURaYUZ3MHlNakV4Ck1qWXlN
      ekkwTURaYU1FVXhDekFKQmdOVkJBWVRBa0ZWTVJNd0VRWURWUVFJREFwVGIyMWxMVk4wWVhSbE1T
      RXcKSHdZRFZRUUtEQmhKYm5SbGNtNWxkQ0JYYVdSbmFYUnpJRkIwZVNCTWRHUXdnZ0VpTUEwR0NT
      cUdTSWIzRFFFQgpBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRQ3hWSVlVc296bEhBL1hxNDBRaDYvcWM2
      eDR5NytaL2R1ZXlQOE1PdDVyCnVjbTFGWGx5SVY2alFvamtMcEJjWFM4QXEzWkZBVmZCT0ZkTUZ6
      Sm1nZ1pkbDBEWWxpcnMwMFVJVFQzQ2drZ1UKK2tlUkRsVkhGYzMvNndKdUtTeGFYcFhWd1RubjJh
      aE5tQjc5OUQyZUFPdzZXSUFRTWtwZlBkSUl6R3M2NmQvRwphWjk5anhkN09tOFVNTWhFUkJqKyty
      VjhDd25ZcVBuYjBHTzZSM2RWcWhuWGZKaHVtbUtpWDBYbE5GZ1A3bHFjCkhmVnJzd3NNcmQ5dXJs
      eGJjTkNTam92enZmSzQxc2l2ZzdhNFVTenRMaE9Rd0YyQmcrOE9VVHcrNUNlTEhvUzkKTFJYaHFO
      YTZ5aS9iZUhtdWh4cGNSZzB0SWNMc0VIK1NDMG1FQVRDUDZPQXhBZ01CQUFHalpEQmlNQjBHQTFV
      ZApEZ1FXQkJRTXByOTV3UG9LL21TdjAzTThFQVNtcTIzam1qQWZCZ05WSFNNRUdEQVdnQlFNcHI5
      NXdQb0svbVN2CjAzTThFQVNtcTIzam1qQVBCZ05WSFJNQkFmOEVCVEFEQVFIL01BOEdBMVVkRVFR
      SU1BYUhCTUNvQVpNd0RRWUoKS29aSWh2Y05BUUVMQlFBRGdnRUJBQnlUblJoWmhwY21DZHRZVGth
      NjkzczVqenlDWTZGM01xUFVBVEZTMUN3Zgpscmg0cFdnREtwYnl0eWUyQWlxU0JYc2kwamR1S2Z1
      YXVHeEtQZGdPVnUzVHpJZzlMQWNPV0RBcTY1WFkyL0hXCjN5S2I1U09YY1U5bUxQNXkyT2p5c3JX
      Tk9ZZ3RLYnlQd1Fvd284cFV3OWNmamQ1eTBsUVE0aHhVZXA2UTJFRkUKZWhodDBtUFBkb1hrdmdK
      M05iUG1WcGZaZHEvc1FLa0ZJT2kzL0lmaXlqRVlPVjI3YlFRRTNLVTNTTUkzMjNMNwp4RGJCdjRk
      WHdxcVQ0andxWDVOanlueXZQM1B4RC9wL054Ly9UOWZTWW1mTFNETEtRbzJtbytlU2Jjc1MzaDU5
      CndVeU55Rlc2eDdLVVU1MTVEbGRmWTY5OUovalYyYXRYbFhxU05UU2ZhYUk9Ci0tLS0tRU5EIENF
      UlRJRklDQVRFLS0tLS0K
  admissionReviewVersions: ["v1"]
  sideEffects: None
  timeoutSeconds: 5
  failurePolicy: Fail
